<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Task Form Tutorial</title>
		<style>
		.topnav {
		  overflow: hidden;
		  background-color: #e9e9e9;
		}

		.topnav .login-container {
		  float: right;
		}

		.topnav a {
		  float: left;
		  display: block;
		  color: black;
		  text-align: center;
		  padding: 14px 16px;
		  text-decoration: none;
		  font-size: 17px;
		}

		.topnav a.active {
		  background-color: #2196F3;
		  color: white;
		}

		.topnav input[type=text] {
		  padding: 6px;
		  margin-top: 8px;
		  font-size: 17px;
		  border: none;
		  width:120px;
		}

		.topnav .login-container button {
		  float: right;
		  padding: 6px 10px;
		  margin-top: 8px;
		  margin-right: 16px;
		  background-color: #555;
		  color: white;
		  font-size: 17px;
		  border: none;
		  cursor: pointer;
		}

		.topnav .login-container button:hover {
		  background-color: green;
		}

		@media screen and (max-width: 600px) {
		  .topnav .login-container {
		    float: none;
		  }
		  .topnav a, .topnav input[type=text], .topnav .login-container button {
		    float: none;
		    display: block;
		    text-align: left;
		    width: 100%;
		    margin: 0;
		    padding: 14px;
		  }
		  .topnav input[type=text] {
		    border: 1px solid #ccc;  
		  }
		}
		.task-form {
			width: 300px;
			margin: 0 auto;
			font-family: Tahoma, Geneva, sans-serif;
		}
		.task-form h1 {
			text-align: center;
			color: #4d4d4d;
			font-size: 24px;
			padding: 20px 0 20px 0;
		}
		.task-form input[type="password"],
		.task-form input[type="text"] {
			width: 100%;
			padding: 15px;
			border: 1px solid #dddddd;
			margin-bottom: 15px;
			box-sizing:border-box;
		}
		.task-form input[type="submit"] {
			width: 100%;
			padding: 15px;
			background-color: #535b63;
			border: 0;
			box-sizing: border-box;
			cursor: pointer;
			font-weight: bold;
			color: #ffffff;
		}

		.table-data, {
			width: 600px;
			margin: 0 auto;
			margin-left: auto;
  			margin-right: auto;
			font-family: Tahoma, Geneva, sans-serif;
		}
		.table-data h2 {
			text-align: center;
			color: #4d4d4d;
			font-size: 24px;
			padding: 20px 0 20px 0;
		}

		.styled-table {
		    border-collapse: collapse;
		    margin: 25px 0;
		    font-size: 0.9em;
		    font-family: sans-serif;
		    min-width: 400px;
		    box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
		    margin-left: auto;
  			margin-right: auto;
		}

		.styled-table thead tr {
		    background-color: #009879;
		    color: #ffffff;
		    text-align: left;
		}

		.styled-table th,
		.styled-table td {
		    padding: 12px 15px;
		}

		.styled-table tbody tr {
		    border-bottom: 1px solid #dddddd;
		}

		.styled-table tbody tr:nth-of-type(even) {
		    background-color: #f3f3f3;
		}

		.styled-table tbody tr:last-of-type {
		    border-bottom: 2px solid #009879;
		}

		.styled-table tbody tr.active-row {
		    font-weight: bold;
		    color: #009879;
		}
		</style>
	</head>
	
	<body>
		<div class="topnav">
		  <a class="active" href="task">Hi, <%=username%></a>
		  <div class="login-container">
		    <form action="logout" method="POST">
		      <button type="submit">Logout</button>
		    </form>
		  </div>
		</div>
		<div class="task-form">
			<h1>Task Form</h1>
			<form action="task" method="POST">
				<input type="text" name="taskname" placeholder="Task Name" required>
				<input type="submit">
			</form>
		</div>


	    <div class="table-data">
			<h2>Task List</h2>
		    <table border="1" class="styled-table">
		        <tr>
		            <th>Task Name</th>
		            <th>Status</th>
		            <th>Action</th>
		        </tr>
		        
		        <%
		        if(tasklist.length!=0){
		        var i=1;
		        tasklist.forEach(function(data){
		        %>
		        <tr>
		            <td><%=data.taskname; %></td>
		            <td><%=data.status; %></td>
		            <td><form action="task/edit" method="POST">
		            	<input type="hidden" id="id" name="id" value="<%=data.id%>">
						<input type="submit" value="Edit">
					</form>
		            <form action="task/delete" method="POST">
						<input type="hidden" id="id" name="id" value="<%=data.id%>">
						<input type="submit" value="Delete">
					</form></td>
		        </tr>
		        <%  i++; }) %>
		        <% } else{ %>
		            <tr>
		                <td colspan="7">No Data Found</td>
		            </tr>
		        <% } %>
		    </table>
	    </div>
	</body>
</html>